<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Interaktif: Ability (CAN)</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f4f9; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 90%; max-width: 500px; text-align: center; }
        .hidden { display: none; }
        input, select, button { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ddd; box-sizing: border-box; }
        button { background-color: #007bff; color: white; border: none; cursor: pointer; font-weight: bold; }
        button:hover { background-color: #0056b3; }
        .question { text-align: left; margin-bottom: 20px; }
        .option-btn { background-color: #f8f9fa; color: #333; text-align: left; border: 1px solid #ccc; }
        .option-btn:hover { background-color: #e2e6ea; }
    </style>
</head>
<body>

    <div class="container" id="main-container">
        <div id="login-page">
            <h2>Selamat Datang di Ujian Online</h2>
            <p>Pilih peran Anda:</p>
            <button onclick="showForm('student')">Masuk sebagai Siswa</button>
            <button onclick="showForm('teacher')">Masuk sebagai Guru</button>
        </div>

        <div id="student-form" class="hidden">
            <h3>Data Siswa</h3>
            <input type="text" id="student-name" placeholder="Nama Lengkap">
            <input type="text" id="student-class" placeholder="Kelas">
            <button onclick="startExam()">Mulai Ujian</button>
            <button onclick="backToMain()" style="background: #6c757d;">Kembali</button>
        </div>

        <div id="teacher-form" class="hidden">
            <h3>Akses Guru</h3>
            <input type="password" id="teacher-code" placeholder="Masukkan Kode Akses">
            <button onclick="checkTeacherCode()">Masuk</button>
            <button onclick="backToMain()" style="background: #6c757d;">Kembali</button>
        </div>

        <div id="exam-page" class="hidden">
            <h4 id="question-text"></h4>
            <div id="options-container"></div>
        </div>

        <div id="result-page" class="hidden">
            <h3>Hasil Ujian</h3>
            <p id="final-score"></p>
            <button onclick="location.reload()">Selesai</button>
        </div>
    </div>

    <script>
        const questions = [
            { q: "Birds ____ fly in the sky.", a: ["can", "cannot", "couldn't"], correct: 0 },
            { q: "A fish ____ walk on the land.", a: ["can", "cannot", "can't not"], correct: 1 },
            { q: "I'm sorry, I ____ speak French. I only speak English.", a: ["can", "can't", "could"], correct: 1 },
            { q: "She is a chef. She ____ cook delicious food.", a: ["can", "cannot", "can't"], correct: 0 }
        ];

        let currentQuestion = 0;
        let score = 0;

        function showForm(role) {
            document.getElementById('login-page').classList.add('hidden');
            document.getElementById(role + '-form').classList.remove('hidden');
        }

        function backToMain() {
            document.getElementById('student-form').classList.add('hidden');
            document.getElementById('teacher-form').classList.add('hidden');
            document.getElementById('login-page').classList.remove('hidden');
        }

        function checkTeacherCode() {
            const code = document.getElementById('teacher-code').value;
            if (code === "FLO") {
                alert("Selamat datang, Guru! Fitur manajemen soal akan segera hadir.");
            } else {
                alert("Kode salah!");
            }
        }

        function startExam() {
            const name = document.getElementById('student-name').value;
            if (!name) return alert("Isi nama dulu ya!");
            document.getElementById('student-form').classList.add('hidden');
            document.getElementById('exam-page').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            const q = questions[currentQuestion];
            document.getElementById('question-text').innerText = `${currentQuestion + 1}. ${q.q}`;
            const container = document.getElementById('options-container');
            container.innerHTML = "";
            q.a.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.innerText = opt;
                btn.className = "option-btn";
                btn.onclick = () => nextQuestion(index);
                container.appendChild(btn);
            });
        }

        function nextQuestion(index) {
            if (index === questions[currentQuestion].correct) score++;
            currentQuestion++;
            if (currentQuestion < questions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById('exam-page').classList.add('hidden');
            document.getElementById('result-page').classList.remove('hidden');
            const totalScore = (score / questions.length) * 100;
            document.getElementById('final-score').innerText = `Nama: ${document.getElementById('student-name').value}\nSkor Anda: ${totalScore}`;
        }
    </script>
</body>
</html>
